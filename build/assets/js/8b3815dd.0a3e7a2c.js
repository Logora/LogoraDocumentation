"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[347],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),m=a,f=c["".concat(p,".").concat(m)]||c[m]||d[m]||i;return n?r.createElement(f,o(o({ref:t},u),{},{components:n})):r.createElement(f,o({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6342:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],l={id:"data",title:"Donn\xe9es utilisateurs"},p=void 0,s={unversionedId:"faq/data",id:"faq/data",title:"Donn\xe9es utilisateurs",description:"L'API Logora vous permet de r\xe9cup\xe9rer les utilisateurs inscrits sur votre application.",source:"@site/docs/faq/data.md",sourceDirName:"faq",slug:"/faq/data",permalink:"/faq/data",draft:!1,tags:[],version:"current",frontMatter:{id:"data",title:"Donn\xe9es utilisateurs"},sidebar:"docs",previous:{title:"RGPD",permalink:"/faq/rgpd"},next:{title:"Gestion des mails",permalink:"/faq/mailing"}},u={},c=[{value:"Avant de commencer",id:"avant-de-commencer",level:4},{value:"1. R\xe9cup\xe9rer un jeton d&#39;acc\xe8s",id:"1-r\xe9cup\xe9rer-un-jeton-dacc\xe8s",level:4},{value:"2. R\xe9cup\xe9rer les donn\xe9es",id:"2-r\xe9cup\xe9rer-les-donn\xe9es",level:4}],d={toc:c};function m(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"L'API Logora vous permet de r\xe9cup\xe9rer les utilisateurs inscrits sur votre application."),(0,i.kt)("h4",{id:"avant-de-commencer"},"Avant de commencer"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Rendez-vous sur votre ",(0,i.kt)("a",{parentName:"li",href:"https://admin.logora.fr"},"Espace d'administration")," (onglet ",(0,i.kt)("em",{parentName:"li"},"Configuration > G\xe9n\xe9ral"),")."),(0,i.kt)("li",{parentName:"ul"},"R\xe9cup\xe9rez votre cl\xe9 d'API et de votre cl\xe9 secr\xe8te qui serviront pour l'authentification.")),(0,i.kt)("h4",{id:"1-r\xe9cup\xe9rer-un-jeton-dacc\xe8s"},"1. R\xe9cup\xe9rer un jeton d'acc\xe8s"),(0,i.kt)("p",null,"Un jeton d'acc\xe8s OAuth 2.0 est g\xe9n\xe9r\xe9 en utilisant votre cl\xe9 d'API et votre cl\xe9 secr\xe8te, gr\xe2ce \xe0 une requ\xeate POST vers notre route d'autorisation. Exemple utilisant Curl :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -d grant_type=client_credentials -d client_id=API_KEY -d client_secret=API_SECRET -d scopes=admin https://app.logora.fr/oauth/token\n\n// R\xe9ponse  \n=> {"access_token":"Av9wbEK-0QTOdxhzB4S3-B1ZFKj1Z4y8Xcl17iVcHsg","token_type":"Bearer","expires_in":7200,"created_at":1579688184}\n')),(0,i.kt)("p",null,"Si la requ\xeate est r\xe9ussie, elle retourne un jeton d'acc\xe8s dans l'attribut ",(0,i.kt)("inlineCode",{parentName:"p"},"access_token"),". Ce jeton d'acc\xe8s est valide deux heures. Les attributes ",(0,i.kt)("inlineCode",{parentName:"p"},"expires_in")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"created_at")," permettent de calculer la date d'expiration du jeton.\nCe jeton Bearer doit \xeatre ajout\xe9 dans l'en-t\xeate ",(0,i.kt)("inlineCode",{parentName:"p"},"Authentication")," des requ\xeates."),(0,i.kt)("h4",{id:"2-r\xe9cup\xe9rer-les-donn\xe9es"},"2. R\xe9cup\xe9rer les donn\xe9es"),(0,i.kt)("p",null,"URL : ",(0,i.kt)("inlineCode",{parentName:"p"},"https://app.logora.fr/api/v1/users")),(0,i.kt)("p",null,"M\xe9thode : ",(0,i.kt)("inlineCode",{parentName:"p"},"GET")),(0,i.kt)("p",null,"En-t\xeate : ",(0,i.kt)("inlineCode",{parentName:"p"},"Content-Type: application/json")),(0,i.kt)("p",null,"Authentification : ",(0,i.kt)("inlineCode",{parentName:"p"},"Bearer")),(0,i.kt)("p",null,"Param\xe8tres d'URL (optionnels) :"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"page")," (entier) : num\xe9ro de page de la liste d'utilisateurs"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"per_page")," (entier) : nombre d'\xe9l\xe9ments par page"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"is_expert"),' (bool\xe9en) : s\xe9lectionne seulement les utilisateurs dits "experts"'),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"is_selected")," (bool\xe9en) : s\xe9lectionne les utilisateurs mis en avant"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"sub_application_name")," (cha\xeene de caract\xe8res) : nom de la sous-application \xe0 laquelle appartient l'utilisateur"),(0,i.kt)("p",null,"Exemple de requ\xeate :\n",(0,i.kt)("inlineCode",{parentName:"p"},"https://app.logora.fr/api/v1/users?page=1&per_page=10&is_expert=false&is_selected=false&sub_application_name=app-test")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'// Exemple de r\xe9ponse\n{\n  "success": true,\n  "data": [\n      {\n        "id": 21,\n        "uid": "02b3a18e-be9c-4f47-a2b3-a5867278cdc7",\n        "image_url": "https://dfrx2oay1w3r9.cloudfront.net/uploads/standard_69835d290a622014fa921df8287b7fd7.jpg",\n        "full_name": "Jean Dupont",\n        "level": {\n          "id": 1,\n          "name": "Novice du d\xe9bat",\n          "icon_url": "https://d2vtyvk9fq7442.cloudfront.net/level_1.png"\n        },\n        "score": 0,\n        "slug": "jean-dupont",\n        "points": 0,\n        "description": null,\n        "created_at": "2021-11-25T16:15:38.874Z",\n        "messages_count": 10,\n        "votes_count": 123,\n        "email": "jean.dupont@exemple.fr",\n        "age": 58,\n        "city": "Strasbourg",\n        "occupation": "Jardinier",\n        "interests": "nature,\xe9conomie"\n      },\n      {\n        "id": 26,\n        "uid": "dd976c14-bf88-4a94-835d-eb09f1074048",\n        "image_url": "https://dfrx2oay1w3r9.cloudfront.net/uploads/standard_9b71d3b9c6c06959dbc58ea3f0a128d0.jpg",\n        "full_name": "Martine Durand",\n        "level": {\n          "id": 1,\n          "name": "Novice du d\xe9bat",\n          "icon_url": "https://d2vtyvk9fq7442.cloudfront.net/level_1.png"\n        },\n        "score": 0,\n        "slug": "martine-durand",\n        "points": 1,\n        "description": null,\n        "created_at": "2021-02-15T14:09:48.619Z",\n        "messages_count": 4,\n        "votes_count": 1,\n        "email": "martine.durand@exemple.fr",\n        "age": 23,\n        "city": "Nice",\n        "occupation": "M\xe9decin",\n        "interests": "politique,\xe9conomie"\n      }\n  ]\n}\n')))}m.isMDXComponent=!0}}]);